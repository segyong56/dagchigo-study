작성자: 강주오

# **1. API(Application Programming Interface) 란?**

## **1. 정의**

- API는 애플리케이션 소프트웨어를 구축하고 통합하기 위한 정의 및 프로토콜 세트
- 데이터와 기능의 집합을 제공하여 컴퓨터 프로그램간 상호작용을 촉진하며, 서로 정보를 교환가능 하도록 하는 것

## **2. 이해하기**

- API: 음식점의 키오스크, 혹은 점원
- 음식이 어떤 과정을거쳐 지지고 볶아서 나오는지 관심이 없음 (그물로 잡은 물고기를 포를 떠서 밀가루로 튀긴..을 주세요 라고 주문하지 않음!)
- 우리(클라이언트)는 음식을 정해진 메뉴(명령 목록)대로 점원(API)에게 주문을 하면 주방(서버, DB)에서 알아서 뭔하는 음식을 만들어줌

## **3. API 역할**

- API는 서버와 데이터베이스에 대한 출입구 역할
- API는 애플리케이션과 기기가 원활하게 통신할 수 있도록 한다
- API는 모든 접속을 표준화 함

---

# **2. REST(Representational State Transfer) 란?**

## **1. 정의**

### **1. 자원을 이름(자원의 표현)으로 구분하여 해당 자원의 상태(정보)를 주고 받는 것을 의미**

### **2. 자원(resource)의 표현(representation) 에 의한 상태 전달**<br>

- 자원 : 해당 소프트웨어가 관리하는 모든 것<br>
- 자원의 표현 : 자원을 표현하기 위한 이름(EX> DB의 사용자가 자원 -> users)
- 상태전달 : 데이터가 요청되어지는 시점에서 자원의 상태(정보)를 전달(JSON, XML)

### **3. 소프트웨어 개발 아키텍쳐의 한 형식**

- REST는 기본적으로 웹의 기존 기술과 HTTP 프로토콜을 그대로 활용하기 때문에 웹의 장점을 최대한 활용할 수 있는 아키텍처 스타일
- HTTP 웹표준을 그대로 사용하기 떄문에 웹에서 사용하는 기존 인프라를 그대로 사용가능 함
- REST는 네트워크 상에서 Client와 Server 사이의 통신 방식 중 하나

---

## **2. 그래서 REST가 뭐라고?**

- HTTP URI(Uniform Resource Identifier)를 통해 자원(Resource)을 명시하고,
- HTTP Method(POST, GET, PUT, DELETE)를 통해 해당 자원에,
- CRUD Operation을 적용하는 것을 의미한다.(Create, Read, Update, Delete)

---

## **3. REST의 장점, 단점**

### **1. 장점**

- HTTP 프로토콜의 인프라를 그대로 사용하므로 REST API 사용을 위한 별도의 인프라를 구축할 필요가 없음
- HTTP 프로토콜의 표준을 최대한 활용하여 여러 추가적인 장점을 함께 가져감
- HTTP 표준 프로토콜에 따르는 모든 플랫폼에서 사용 가능
- Hypermedia API의 기본을 충실히 지키면서 범용성 보장
- REST API 메시지는 의도를 명확하게 나타내므로 의도하는 바를 쉽게 파악가능
- 서버와 클라이언트의 역할을 명확하게 분리

### **2. 단점**

- 표준이 존재하지 않는다.
- 사용할 수 있는 메소드(HTTP Method)가 4가지 밖에 없어 형태가 제한적임
- 구형 브라우저가 아직 제대로 지원해주지 못하는 부분이 있음<br>
  -> PUT, DELETE를 사용하지 못하는 점<br>
  -> pushState를 지원하지 않는 점

---

## **4. REST 특징**

### **1. Server - Client 구조**

- 서버, 클라이언트 역할이 구분되어 개발해야할 내용이 명확해지고 서로간 의존성이 줄어듬

### **2. Stateless - 무상태성**

- 작업을 위한 상태 정보를 따로 저장하지 않음
- 들어오는 요청만 처리하면되서 서비스의 자유도가 올라감, 구현이 단순해짐

### **3. Cacheable - 캐시 처리 가능**

- HTTP 웹표준을 그대로 사용하기 떄문에 웹에서 사용하는 기존 인프라를 그대로 사용가능함, 따라서 HTTP의 캐싱 기능이 적용가능

### **4. Self-descriptiveness - 자체 표현 구조**

- REST API 요청만 보고도 쉽게 이해할수 있는 자체 표현구조

### **5. Uniform Interface**

- URI로 지정한 리소스에 대한 조작을 통일되고 한정적인 인터페이스로 수행하는 아키텍처 스타일을 말함

### **6. 계층형 구조**

- REST 서버는 다중 계층으로 구성될수 있으며 보안, 로드밸런싱, 암호화 계층을 추가해 구조상의 유연성을 둘 수 있고
- PROXY, 게이트웨이 같은 네트워크 기반의 중간 메체를 사용할 수 있음

---

# **3. REST API란?**

## **1. 정의**

- REST 기반으로 서비스 API를 구현한 것

## **2. 특징**

- 확장성과 재사용성을 높여 유지보수 및 운용을 편리하게 할 수 있음
- REST는 HTTP 표준을 기반으로 구현하므로, HTTP를 지원하는 프로그램 언어로 클라이언트, 서버를 구현할 수 있음
- REST API를 제작하면 델파이 클라이언트 뿐 아니라, 자바, C#, 웹 등을 이용해 클라이언트를 제작할 수 있음

## **3. 설계 기본 규칙**

- URI는 정보의 자원을 표현해야 한다.
- resource는 동사보다는 명사를, 대문자보다는 소문자를 사용한다.
- resource의 도큐먼트 이름으로는 단수 명사를 사용해야 한다.
- resource의 컬렉션 이름으로는 복수 명사를 사용해야 한다.
- resource의 스토어 이름으로는 복수 명사를 사용해야 한다.<br>
  ->GET /Member/1 -> GET /members/1
- 자원에 대한 행위는 HTTP Method(GET, PUT, POST, DELETE 등)로 표현한다.
- URI에 HTTP Method가 들어가면 안된다.<br>
  -> GET /members/delete/1 -> DELETE /members/1
- URI에 행위에 대한 동사 표현이 들어가면 안된다.(즉, CRUD 기능을 나타내는 것은 URI에 사용하지 않는다.)<br>
  -> (x)GET /members/show/1 -> (o)GET /members/1
- 경로 부분 중 변하는 부분은 유일한 값으로 대체한다.(즉, :id는 하나의 특정 resource를 나타내는 고유값이다.)<br>
  -> student를 생성하는 route: POST /students<br>
  -> id=12인 student를 삭제하는 route: DELETE /students/12

## **4. REST API 설계 규칙**

- 슬래시 구분자(/ )는 계층 관계를 나타내는데 사용한다.<br>
  -> houses/apartments
- URI 마지막 문자로 슬래시(/ )를 포함하지 않는다.
- URI에 포함되는 모든 글자는 리소스의 유일한 식별자로 사용되어야 하며 URI가 다르다는 것은 리소스가 다르다는 것이고, 역으로 리소스가 다르면 URI도 달라져야 한다.
- REST API는 분명한 URI를 만들어 통신을 해야 하기 때문에 혼동을 주지 않도록 URI 경로의 마지막에는 슬래시(/)를 사용하지 않는다.<br>
  -> houses/apartments/ (X)
- 하이픈(- )은 URI 가독성을 높이는데 사용<br>
  -> 불가피하게 긴 URI경로를 사용하게 된다면 하이픈을 사용해 가독성을 높인다.
- 밑줄(\_ )은 URI에 사용하지 않는다.<br>
  -> 밑줄은 보기 어렵거나 밑줄 때문에 문자가 가려지기도 하므로 가독성을 위해 밑줄은 사용하지 않는다.
- URI 경로에는 소문자가 적합하다. URI 경로에 대문자 사용은 피하도록 한다.<br>
  -> RFC 3986(URI 문법 형식)은 URI 스키마와 호스트를 제외하고는 대소문자를 구별하도록 규정하기 때문
- 파일확장자는 URI에 포함하지 않는다.<br>
  -> REST API에서는 메시지 바디 내용의 포맷을 나타내기 위한 파일 확장자를 URI 안에 포함시키지 않으며, Accept header를 사용한다.<br>
  -> members/soccer/345/photo.jpg (X)<br>
  -> GET / members/soccer/345/photo HTTP/1.1 Host: restapi.example.com Accept: image/jpg (O)
- 리소스 간에는 연관 관계가 있는 경우<br>
  -> /리소스명/리소스 ID/관계가 있는 다른 리소스명<br>
  -> GET : /users/{userid}/devices (일반적으로 소유 ‘has’의 관계를 표현할 때)

5. RESTful API

- RESTful은 일반적으로 REST라는 아키텍처를 구현하는 웹 서비스를 나타내기 위해 사용되는 용어
- ‘REST API’를 제공하는 웹 서비스를 ‘RESTful’하다고 함
- REST 원리를 따르는 시스템은 RESTful이란 용어로 지칭된다.

참고자료 : https://gmlwjd9405.github.io/2018/09/21/rest-and-restful.html
